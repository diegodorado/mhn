{"version":3,"sources":["webpack:///./src/assets/intro-wide.mp4","webpack:///./src/pages/index.tsx","webpack:///./src/assets/intro-sq.mp4"],"names":["module","exports","IndexPage","data","vidRef","path","useRef","useState","wide","setWide","ended","setEnded","lLink","useEffect","vid","current","handleEnded","console","log","handleResize","w","window","innerWidth","load","addEventListener","removeEventListener","bodyClass","title","className","ref","autoPlay","muted","src","IntroWide","IntroSq","type","onClick","navigate","fluid","image0","childImageSharp","to","image1","query"],"mappings":"gFAAAA,EAAOC,QAAU,IAA0B,0D,kCCA3C,yKA6EeC,UA9DmC,SAAC,GAAmB,IAAjBC,EAAiB,EAAjBA,KAC7CC,GAD8D,EAAXC,KAC1CC,iBAAO,OAD8C,EAE5CC,oBAAS,GAA1BC,EAF6D,KAEvDC,EAFuD,OAG1CF,oBAAS,GAA5BG,EAH6D,KAGtDC,EAHsD,KAK9DC,EAAQ,wCAoCd,OAjCAC,qBAAW,WACT,IAAMC,EAAMV,EAAOW,QAEnB,GAAKD,EAAL,CAGA,IAAME,EAAc,WAClBC,QAAQC,IAAI,SACZP,GAAS,IAGLQ,EAAe,WACnBV,GAAQ,SAAAD,GACN,IAAMY,EAAIC,OAAOC,WAAa,IAK9B,OAJKF,IAAMZ,IACTG,GAAS,GACTG,EAAIS,QAECH,MAQX,OAJAD,IAEAE,OAAOG,iBAAiB,SAAUL,GAClCL,EAAIU,iBAAiB,QAASR,GACvB,WACLK,OAAOI,oBAAoB,SAAUN,GACrCL,EAAIW,oBAAoB,QAAST,OAGnC,IAGF,kBAAC,IAAD,CAAQU,UAAU,QAChB,kBAAC,IAAD,CAAKC,MAAM,WACX,yBAAKC,UAAS,UAAalB,EAAQ,QAAU,WAA/B,KAA6CF,EAAO,OAAS,UACzE,2BAAOqB,IAAKzB,EAAQ0B,UAAU,EAAMC,OAAO,GACzC,4BAAQC,IAAKxB,EAAOyB,IAAYC,IAASC,KAAK,eAE9C,sRACA,yBAAKP,UAAU,SAASQ,QAAS,kBAAMC,mBAASzB,KAC9C,kBAAC,IAAD,CAAK0B,MAAOnC,EAAKoC,OAAOC,gBAAgBF,QACxC,kBAAC,OAAD,CAAMG,GAAI7B,GAAV,kBAEF,yBAAKgB,UAAU,SAASQ,QAAS,kBAAMC,mBA/C/B,OAgDN,kBAAC,IAAD,CAAKC,MAAOnC,EAAKuC,OAAOF,gBAAgBF,QACxC,kBAAC,OAAD,CAAMG,GAjDA,KAiDN,qBASH,IAAME,EAAQ,c,uBC/ErB3C,EAAOC,QAAU,IAA0B","file":"component---src-pages-index-tsx-895523a035b1d4565b9a.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/intro-wide-a95293229e04f5b5f1b70419f8dd2afc.mp4\";","import React, {useRef, useEffect,useState} from \"react\"\nimport { PageProps, Link, navigate, graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Img from \"gatsby-image\"\n\nimport IntroSq from \"../assets/intro-sq.mp4\"\nimport IntroWide from \"../assets/intro-wide.mp4\"\n\ntype DataProps = {\n  site: {\n    buildTime: string\n  }\n}\n\nconst IndexPage: React.FC<PageProps<DataProps>> = ({ data, path }) => {\n  const vidRef = useRef(null)\n  const [wide, setWide] = useState(false)\n  const [ended, setEnded] = useState(false)\n\n  const lLink = \"/1794-1810/burocrata/sello-consulado/\"\n  const rLink = \"/\"\n\n  useEffect( () => {\n    const vid = vidRef.current\n\n    if (!vid) \n      return\n\n    const handleEnded = () => {\n      console.log('ended')\n      setEnded(true)\n    }\n\n    const handleResize = () => {\n      setWide(wide => {\n        const w = window.innerWidth > 768\n        if ( w !== wide ){\n          setEnded(false)\n          vid.load()\n        }\n        return w\n      })\n    }\n\n    handleResize()\n\n    window.addEventListener(\"resize\", handleResize);\n    vid.addEventListener(\"ended\", handleEnded)\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      vid.removeEventListener(\"ended\", handleEnded)\n    }\n\n  },[])\n\n  return (\n  <Layout bodyClass=\"home\">\n    <SEO title=\"Inicio\" />\n    <div className={ `intro ${ ended ? 'ended' : 'playing'} ${ wide ? 'wide' : 'small'}` }>\n      <video ref={vidRef} autoPlay={true} muted={true} >\n        <source src={wide ? IntroWide : IntroSq} type=\"video/mp4\" />\n      </video>\n        <p>Fue reformista y después revolucionario. Fue republicano y luego monárquico. Tuvo victorias y también derrotas. Muchas variaciones pero una constante: la confianza en la acción para modificar el mundo. A esa certeza dedicó su vida Manuel Belgrano.</p>\n        <div className=\"chairL\" onClick={() => navigate(lLink)}>\n          <Img fluid={data.image0.childImageSharp.fluid} />\n          <Link to={lLink}>VER 1794-1810</Link>\n        </div>\n        <div className=\"chairR\" onClick={() => navigate(rLink)}>\n          <Img fluid={data.image1.childImageSharp.fluid} />\n          <Link to={rLink}>VER 1811-1820</Link>\n        </div>\n    </div>\n  </Layout>\n)\n}\n\nexport default IndexPage\n\nexport const query = graphql`\n  query {\n    site {\n      buildTime(formatString: \"YYYY-MM-DD hh:mm a z\")\n    }\n    image0: file(relativePath: {eq: \"1794-1810.png\"}) {\n      childImageSharp {\n        fluid(maxWidth: 1000) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n    image1: file(relativePath: {eq: \"1811-1820.png\"}) {\n      childImageSharp {\n        fluid(maxWidth: 1000) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n  }\n`\n\n","module.exports = __webpack_public_path__ + \"static/intro-sq-9f9bae26e75ee0ca429066173a976af7.mp4\";"],"sourceRoot":""}