{"version":3,"sources":["webpack:///./src/assets/intro-wide.mp4","webpack:///./src/pages/index.tsx","webpack:///./src/assets/intro-sq.mp4"],"names":["module","exports","IndexPage","data","vidRef","path","useRef","useState","wide","setWide","ended","setEnded","useEffect","vid","current","handleEnded","handleResize","w","window","innerWidth","load","addEventListener","removeEventListener","bodyClass","title","className","ref","autoPlay","muted","src","IntroWide","IntroSq","type","onClick","navigate","fluid","image0","childImageSharp","alt","to","image1","ev","currentTime","duration","query"],"mappings":"gFAAAA,EAAOC,QAAU,IAA0B,0D,kCCA3C,yKAoFeC,UArEmC,SAAC,GAAmB,IAAjBC,EAAiB,EAAjBA,KAC7CC,GAD8D,EAAXC,KAC1CC,iBAAO,OAD8C,EAE5CC,oBAAS,GAA1BC,EAF6D,KAEvDC,EAFuD,OAG1CF,oBAAS,GAA5BG,EAH6D,KAGtDC,EAHsD,KAUpEC,qBAAW,WACT,IAAMC,EAAMT,EAAOU,QAEnB,GAAKD,EAAL,CAGA,IAAME,EAAc,WAClBJ,GAAS,IAGLK,EAAe,WACnBP,GAAQ,SAAAD,GACN,IAAMS,EAAIC,OAAOC,WAAa,IAK9B,OAJKF,IAAMT,IACTG,GAAS,GACTE,EAAIO,QAECH,MAQX,OAJAD,IAEAE,OAAOG,iBAAiB,SAAUL,GAClCH,EAAIQ,iBAAiB,QAASN,GACvB,WACLG,OAAOI,oBAAoB,SAAUN,GACrCH,EAAIS,oBAAoB,QAASP,OAGnC,IAOF,OACA,kBAAC,IAAD,CAAQQ,UAAU,QAChB,kBAAC,IAAD,CAAKC,MAAM,WACX,yBAAKC,UAAS,UAAaf,EAAQ,QAAU,WAA/B,KAA6CF,EAAO,OAAS,UACzE,2BAAOkB,IAAKtB,EAAQuB,UAAU,EAAMC,OAAO,GACzC,4BAAQC,IAAKrB,EAAOsB,IAAYC,IAASC,KAAK,eAE9C,sRACA,yBAAKP,UAAU,SAASQ,QAAS,kBAAMC,mBAlD/B,iBAmDN,kBAAC,IAAD,CAAKC,MAAOhC,EAAKiC,OAAOC,gBAAgBF,MAAOG,IAjD1C,gcAkDL,kBAAC,OAAD,CAAMC,GApDA,eAoDN,kBAEF,yBAAKd,UAAU,SAASQ,QAAS,kBAAMC,mBArD/B,iBAsDN,kBAAC,IAAD,CAAKC,MAAOhC,EAAKqC,OAAOH,gBAAgBF,MAAOG,IApD1C,iHAqDL,kBAAC,OAAD,CAAMC,GAvDA,eAuDN,kBAEF,4BAAQd,UAAU,OAAOQ,QArBb,SAACQ,GACjB,IAAM5B,EAAMT,EAAOU,QACnBD,EAAI6B,YAAc7B,EAAI8B,WAmBlB,aAQD,IAAMC,EAAQ,c,uBCtFrB5C,EAAOC,QAAU,IAA0B","file":"component---src-pages-index-tsx-ec3ae8fa88b25625e0ef.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/intro-wide-42a1c95a99323fea6e13077e45051cf8.mp4\";","import React, {useRef, useEffect,useState} from \"react\"\nimport { PageProps, Link, navigate, graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Img from \"gatsby-image\"\n\nimport IntroSq from \"../assets/intro-sq.mp4\"\nimport IntroWide from \"../assets/intro-wide.mp4\"\n\ntype DataProps = {\n  site: {\n    buildTime: string\n  }\n}\n\nconst IndexPage: React.FC<PageProps<DataProps>> = ({ data, path }) => {\n  const vidRef = useRef(null)\n  const [wide, setWide] = useState(false)\n  const [ended, setEnded] = useState(false)\n\n  const lLink = \"/1794-1810/\"\n  const rLink = \"/1811-1820/\"\n  const lAlt = \"Sillón de madera de jacarandá tallada, con apoyabrazos curvos y alargados. La parte superior del respaldo está coronada con un motivo tallado. El asiento  y el respaldo alto están tapizados en pana. Tiene marcas de las herramientas con las que se labraron a mano,  huella del trabajo de los artesanos. El sillón tiene las patas rectas acordes al estilo neoclásico. Aunque en términos estilísticos puede considerarse en una etapa de transición.\"\n  const rAlt = \"Silla Plegable de campaña, reclinada, con apoya brazos, hecha en madera, con asiento y respaldo de listones.\"\n\n  useEffect( () => {\n    const vid = vidRef.current\n\n    if (!vid) \n      return\n\n    const handleEnded = () => {\n      setEnded(true)\n    }\n\n    const handleResize = () => {\n      setWide(wide => {\n        const w = window.innerWidth > 768\n        if ( w !== wide ){\n          setEnded(false)\n          vid.load()\n        }\n        return w\n      })\n    }\n\n    handleResize()\n\n    window.addEventListener(\"resize\", handleResize);\n    vid.addEventListener(\"ended\", handleEnded)\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      vid.removeEventListener(\"ended\", handleEnded)\n    }\n\n  },[])\n\n  const skipIntro = (ev) => {\n    const vid = vidRef.current\n    vid.currentTime = vid.duration\n  }\n\n  return (\n  <Layout bodyClass=\"home\">\n    <SEO title=\"Inicio\" />\n    <div className={ `intro ${ ended ? 'ended' : 'playing'} ${ wide ? 'wide' : 'small'}` }>\n      <video ref={vidRef} autoPlay={true} muted={true} >\n        <source src={wide ? IntroWide : IntroSq} type=\"video/mp4\" />\n      </video>\n        <p>Fue reformista y después revolucionario. Fue republicano y luego monárquico. Tuvo victorias y también derrotas. Muchas variaciones pero una constante: la confianza en la acción para modificar el mundo. A esa certeza dedicó su vida Manuel Belgrano.</p>\n        <div className=\"chairL\" onClick={() => navigate(lLink)}>\n          <Img fluid={data.image0.childImageSharp.fluid} alt={lAlt} />\n          <Link to={lLink}>VER 1794-1810</Link>\n        </div>\n        <div className=\"chairR\" onClick={() => navigate(rLink)}>\n          <Img fluid={data.image1.childImageSharp.fluid} alt={rAlt} />\n          <Link to={rLink}>VER 1811-1820</Link>\n        </div>\n        <button className=\"skip\" onClick={skipIntro}>Saltar</button>\n    </div>\n  </Layout>\n)\n}\n\nexport default IndexPage\n\nexport const query = graphql`\n  query {\n    image0: file(relativePath: {eq: \"1794-1810.png\"}) {\n      childImageSharp {\n        fluid(maxWidth: 1000) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n    image1: file(relativePath: {eq: \"1811-1820.png\"}) {\n      childImageSharp {\n        fluid(maxWidth: 1000) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n  }\n`\n\n","module.exports = __webpack_public_path__ + \"static/intro-sq-dc0c7aeccea0747dce1d42cac8719b71.mp4\";"],"sourceRoot":""}