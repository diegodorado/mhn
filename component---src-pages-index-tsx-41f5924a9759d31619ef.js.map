{"version":3,"sources":["webpack:///./src/assets/intro-wide.mp4","webpack:///./src/pages/index.tsx","webpack:///./src/assets/intro-sq.mp4"],"names":["module","exports","IndexPage","data","vidRef","path","useRef","useState","wide","setWide","ended","setEnded","useEffect","vid","current","handleEnded","console","log","handleResize","w","window","innerWidth","load","addEventListener","removeEventListener","bodyClass","title","className","ref","autoPlay","muted","src","IntroWide","IntroSq","type","onClick","navigate","fluid","image0","childImageSharp","href","image1","query"],"mappings":"gFAAAA,EAAOC,QAAU,IAA0B,0D,kCCA3C,yKA0EeC,UA3DmC,SAAC,GAAmB,IAAjBC,EAAiB,EAAjBA,KAC7CC,GAD8D,EAAXC,KAC1CC,iBAAO,OAD8C,EAE5CC,oBAAS,GAA1BC,EAF6D,KAEvDC,EAFuD,OAG1CF,oBAAS,GAA5BG,EAH6D,KAGtDC,EAHsD,KAsCpE,OAjCAC,qBAAW,WACT,IAAMC,EAAMT,EAAOU,QAEnB,GAAKD,EAAL,CAGA,IAAME,EAAc,WAClBC,QAAQC,IAAI,SACZN,GAAS,IAGLO,EAAe,WACnBT,GAAQ,SAAAD,GACN,IAAMW,EAAIC,OAAOC,WAAa,IAK9B,OAJKF,IAAMX,IACTG,GAAS,GACTE,EAAIS,QAECH,MAQX,OAJAD,IAEAE,OAAOG,iBAAiB,SAAUL,GAClCL,EAAIU,iBAAiB,QAASR,GACvB,WACLK,OAAOI,oBAAoB,SAAUN,GACrCL,EAAIW,oBAAoB,QAAST,OAGnC,IAGF,kBAAC,IAAD,CAAQU,UAAU,QAChB,kBAAC,IAAD,CAAKC,MAAM,WACX,yBAAKC,UAAS,UAAajB,EAAQ,QAAU,WAA/B,KAA6CF,EAAO,OAAS,UACzE,2BAAOoB,IAAKxB,EAAQyB,UAAU,EAAMC,OAAO,GACzC,4BAAQC,IAAKvB,EAAOwB,IAAYC,IAASC,KAAK,eAE9C,sRACA,yBAAKP,UAAU,SAASQ,QAAS,kBAAMC,mBAAS,iBAC9C,kBAAC,IAAD,CAAKC,MAAOlC,EAAKmC,OAAOC,gBAAgBF,QACxC,uBAAGG,KAAK,KAAR,kBAEF,yBAAKb,UAAU,SAASQ,QAAS,kBAAMC,mBAAS,iBAC9C,kBAAC,IAAD,CAAKC,MAAOlC,EAAKsC,OAAOF,gBAAgBF,QACxC,uBAAGG,KAAK,KAAR,qBASH,IAAME,EAAQ,c,uBC5ErB1C,EAAOC,QAAU,IAA0B","file":"component---src-pages-index-tsx-41f5924a9759d31619ef.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/intro-wide-a95293229e04f5b5f1b70419f8dd2afc.mp4\";","import React, {useRef, useEffect,useState} from \"react\"\nimport { PageProps, Link, navigate, graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Img from \"gatsby-image\"\n\nimport IntroSq from \"../assets/intro-sq.mp4\"\nimport IntroWide from \"../assets/intro-wide.mp4\"\n\ntype DataProps = {\n  site: {\n    buildTime: string\n  }\n}\n\nconst IndexPage: React.FC<PageProps<DataProps>> = ({ data, path }) => {\n  const vidRef = useRef(null)\n  const [wide, setWide] = useState(false)\n  const [ended, setEnded] = useState(false)\n\n  useEffect( () => {\n    const vid = vidRef.current\n\n    if (!vid) \n      return\n\n    const handleEnded = () => {\n      console.log('ended')\n      setEnded(true)\n    }\n\n    const handleResize = () => {\n      setWide(wide => {\n        const w = window.innerWidth > 768\n        if ( w !== wide ){\n          setEnded(false)\n          vid.load()\n        }\n        return w\n      })\n    }\n\n    handleResize()\n\n    window.addEventListener(\"resize\", handleResize);\n    vid.addEventListener(\"ended\", handleEnded)\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      vid.removeEventListener(\"ended\", handleEnded)\n    }\n\n  },[])\n\n  return (\n  <Layout bodyClass=\"home\">\n    <SEO title=\"Inicio\" />\n    <div className={ `intro ${ ended ? 'ended' : 'playing'} ${ wide ? 'wide' : 'small'}` }>\n      <video ref={vidRef} autoPlay={true} muted={true} >\n        <source src={wide ? IntroWide : IntroSq} type=\"video/mp4\" />\n      </video>\n        <p>Fue reformista y después revolucionario. Fue republicano y luego monárquico. Tuvo victorias y también derrotas. Muchas variaciones pero una constante: la confianza en la acción para modificar el mundo. A esa certeza dedicó su vida Manuel Belgrano.</p>\n        <div className=\"chairL\" onClick={() => navigate(\"/1794-1810/\")}>\n          <Img fluid={data.image0.childImageSharp.fluid} />\n          <a href=\"/\">VER 1794-1810</a>\n        </div>\n        <div className=\"chairR\" onClick={() => navigate(\"/1811-1820/\")}>\n          <Img fluid={data.image1.childImageSharp.fluid} />\n          <a href=\"/\">VER 1811-1820</a>\n        </div>\n    </div>\n  </Layout>\n)\n}\n\nexport default IndexPage\n\nexport const query = graphql`\n  query {\n    site {\n      buildTime(formatString: \"YYYY-MM-DD hh:mm a z\")\n    }\n    image0: file(relativePath: {eq: \"1794-1810.png\"}) {\n      childImageSharp {\n        fluid(maxWidth: 1000) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n    image1: file(relativePath: {eq: \"1811-1820.png\"}) {\n      childImageSharp {\n        fluid(maxWidth: 1000) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n  }\n`\n\n","module.exports = __webpack_public_path__ + \"static/intro-sq-9f9bae26e75ee0ca429066173a976af7.mp4\";"],"sourceRoot":""}